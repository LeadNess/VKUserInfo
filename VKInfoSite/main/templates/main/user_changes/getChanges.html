{% extends "main/wrapper.html" %}

{% block content %}

    {% if info.main_info %}
        <span class="d-block p-2 bg-primary text-white">Main info changes</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
           		    <th scope="col">Field</th>
           		    <th scope="col">Old</th>
           		    <th scope="col">New</th>
                 </tr>
            </thead>
            <tbody>
                {% for name, field in info.main_info.items %}
                   <tr>
                        <td>{{ name }}</td>
                        <td>{{ field.old }}</td>
                        <td>{{ field.new }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}


    {% if info.friends.new %}
        <span class="d-block p-2 bg-primary text-white">New friends</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Fullname</th>
           		    <th scope="col">id</th>
           		    <th scope="col">domain</th>
           		    <th scope="col">bday</th>
                 </tr>
            </thead>
            <tbody>
                {% for friend in info.friends.new %}
                   <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td><a style="color: white" href="https://vk.com/{{ friend.domain }}">{{ friend.first_name}} {{ friend.last_name }}</a></td>
                        <td>{{ friend.id }}</td>
                        <td>{{ friend.domain }}</td>
                        <td>{{ friend.bdate }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if info.friends.deleted %}
        <span class="d-block p-2 bg-primary text-white">Deleted friends</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Fullname</th>
           		    <th scope="col">id</th>
           		    <th scope="col">domain</th>
           		    <th scope="col">bday</th>
                 </tr>
            </thead>
            <tbody>
                {% for friend in info.friends.deleted %}
                   <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td><a style="color: white" href="https://vk.com/{{ friend.domain }}">{{ friend.first_name}} {{ friend.last_name }}</a></td>
                        <td>{{ friend.id }}</td>
                        <td>{{ friend.domain }}</td>
                        <td>{{ friend.bdate }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}


    {% if info.followers.new %}
        <span class="d-block p-2 bg-primary text-white">New followers</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Fullname</th>
           		    <th scope="col">id</th>
           		    <th scope="col">domain</th>
           		    <th scope="col">bday</th>
                 </tr>
            </thead>
            <tbody>
                {% for friend in info.followers.new %}
                   <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td><a style="color: white" href="https://vk.com/{{ friend.domain }}">{{ friend.first_name}} {{ friend.last_name }}</a></td>
                        <td>{{ friend.id }}</td>
                        <td>{{ friend.domain }}</td>
                        <td>{{ friend.bdate }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if info.followers.deleted %}
        <span class="d-block p-2 bg-primary text-white">Deleted followers</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Fullname</th>
           		    <th scope="col">id</th>
           		    <th scope="col">domain</th>
           		    <th scope="col">bday</th>
                 </tr>
            </thead>
            <tbody>
                {% for friend in info.followers.deleted %}
                   <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td><a style="color: white" href="https://vk.com/{{ friend.domain }}">{{ friend.first_name}} {{ friend.last_name }}</a></td>
                        <td>{{ friend.id }}</td>
                        <td>{{ friend.domain }}</td>
                        <td>{{ friend.bdate }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if info.groups.new %}
        <span class="d-block p-2 bg-primary text-white">New groups</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Name</th>
           		    <th scope="col">id</th>
           		    <th scope="col">Screen name</th>
                 </tr>
            </thead>
            <tbody>
                {% for group in info.groups.new %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a style="color: white" href="https://vk.com/{{ group.screen_name }}">{{ group.name }}</a></td>
                    <td>{{ group.id }}</td>
                    <td>{{ group.screen_name }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if info.groups.deleted %}
        <span class="d-block p-2 bg-primary text-white">Deleted groups</span>
        <table class="table table-striped table-dark">
            <thead>
           	     <tr>
                    <th scope="col">#</th>
           		    <th scope="col">Name</th>
           		    <th scope="col">id</th>
           		    <th scope="col">Screen name</th>
                 </tr>
            </thead>
            <tbody>
                {% for group in info.groups.deleted %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a style="color: white" href="https://vk.com/{{ group.screen_name }}">{{ group.name }}</a></td>
                    <td>{{ group.id }}</td>
                    <td>{{ group.screen_name }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

{% comment %}

    <p>Photos changes:</p>
    {% for photo in info.photos %}
        <li>Photo {{ photo.photo_id }}:

        </li>
    {% endfor %}


    <p>Wall changes:</p>
    {% for post in info.wall %}
        <li>Wallpost {{ post.post_id }}:

        </li>
    {% endfor %}
{% endcomment %}

{% endblock %}